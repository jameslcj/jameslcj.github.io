{"tags":[{"name":"JavaScript","permalink":"http://blog.hellolc.com,http://www.wjcun.com/tags/JavaScript/","url":"/async/tags/JavaScript.json","count":7}],"categories":[],"url":"/async/posts/2017/03/06/Vue.json","date":1488762603000,"path":{"year":2017,"month":3,"day":6,"name":"Vue"},"title":"Vue","permalink":"http://blog.hellolc.com,http://www.wjcun.com/2017/03/06/Vue/","content":"<h3 id=\"Vue对象\"><a href=\"#Vue对象\" class=\"headerlink\" title=\"Vue对象\"></a>Vue对象</h3><ul>\n<li><p>data 绑定数据</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data () &#123;</span><br><span class=\"line\">   return &#123;</span><br><span class=\"line\">     msg: &apos;Welcome to Your Vue.js App&apos;,</span><br><span class=\"line\">     items: JSON.parse(localStorage.getItem(&apos;data&apos;)) || [],</span><br><span class=\"line\">     newItem: &apos;&apos;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> &#125;,</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>methods vue对象方法</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">methods: &#123;</span><br><span class=\"line\">      clickEvent: function (item) &#123;</span><br><span class=\"line\">          item.flag = !item.flag</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      addNew: function() &#123;</span><br><span class=\"line\">          console.log(this.newItem)</span><br><span class=\"line\">          this.items.push(&#123;</span><br><span class=\"line\">              message: this.newItem,</span><br><span class=\"line\">              flag: false</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          this.newItem = &apos;&apos;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>watch 监听某个变量, 当发生变化时, 回调函数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">watch: &#123;</span><br><span class=\"line\">     items: &#123;</span><br><span class=\"line\">         handler: function (val, oldVal) &#123;</span><br><span class=\"line\">             localStorage.setItem(&apos;data&apos;, JSON.stringify(val))</span><br><span class=\"line\">         &#125;,</span><br><span class=\"line\">         deep: true</span><br><span class=\"line\">     &#125; </span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>props 注册的属性, 不注册既是传递了属性在 组件里也无法获取</p>\n</li>\n<li>component 需要注册的组件, 不注册只引入组件是无效的<ul>\n<li>在模板里, 组件的名字需要被反驼峰使用<code>MyComponent =&gt; &lt;my-component&gt;&lt;/my-component&gt;</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"重要指令\"><a href=\"#重要指令\" class=\"headerlink\" title=\"重要指令\"></a>重要指令</h3><ul>\n<li>v-text 渲染数据(不会解析html标签)</li>\n<li><p>v-html 渲染数据(会渲染html标签)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;div class=&quot;hello&quot;&gt;</span><br><span class=\"line\">    //两者等价</span><br><span class=\"line\">    &lt;h1&gt;&#123;&#123; title &#125;&#125;&lt;/h1&gt;</span><br><span class=\"line\">    &lt;h1 v-text=&quot;title&quot;&gt;&lt;/h1&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">  name: &apos;hello&apos;,</span><br><span class=\"line\">  data () &#123;</span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">      title: &apos;this is title &lt;div&gt;div&lt;/div&gt;&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>v-if 控制显示</p>\n</li>\n<li><p>v-on 绑定事件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;li v-for=&quot;item in items&quot; v-on:click=&quot;clickEvent(item)&quot;&gt;&#123;&#123;item.message&#125;&#125;&lt;/li&gt;</span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">  name: &apos;hello&apos;,</span><br><span class=\"line\">  data () &#123;</span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">      msg: &apos;Welcome to Your Vue.js App&apos;,</span><br><span class=\"line\">      items: [&#123;message: &apos;react&apos;&#125;]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  methods: &#123;</span><br><span class=\"line\">      clickEvent: function (item) &#123;</span><br><span class=\"line\">          alert(item.message)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>v-for 循环渲染</p>\n</li>\n<li><p>v-bind 设置属性</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;li v-for=&quot;item in items&quot; v-bind:class=&quot;&#123;under: item.flag&#125;&quot;&gt;</span><br><span class=\"line\">            &#123;&#123;item.message&#125;&#125;</span><br><span class=\"line\">        &lt;/li&gt;</span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">  name: &apos;hello&apos;,</span><br><span class=\"line\">  data () &#123;</span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">      msg: &apos;Welcome to Your Vue.js App&apos;,</span><br><span class=\"line\">      items: [&#123;message: &apos;vue&apos;, flag: false&#125;, &#123;message: &apos;vue&apos;, flag: true&#125;]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\">&lt;style scoped&gt;</span><br><span class=\"line\">.under &#123;</span><br><span class=\"line\">    text-decoration: line-through;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>v-model 双向数据绑定</p>\n<ul>\n<li><code>&lt;input v-model=&quot;newItem&quot; v-on:keyup.enter=&quot;addNew&quot;&gt;</code> newItem 就是绑定的变量属性, 可以操作此值进行双向绑定<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;input v-model=&quot;newItem&quot; v-on:keyup.enter=&quot;addNew&quot;&gt;</span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">  name: &apos;hello&apos;,</span><br><span class=\"line\">  data () &#123;</span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">      msg: &apos;Welcome to Your Vue.js App&apos;,</span><br><span class=\"line\">      items: [],</span><br><span class=\"line\">      newItem: &apos;&apos;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  methods: &#123;</span><br><span class=\"line\">      clickEvent: function (item) &#123;</span><br><span class=\"line\">          item.flag = !item.flag</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      addNew: function() &#123;</span><br><span class=\"line\">          console.log(this.newItem)</span><br><span class=\"line\">          this.newItem = &apos;&apos;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"监听其他组件事件\"><a href=\"#监听其他组件事件\" class=\"headerlink\" title=\"监听其他组件事件\"></a>监听其他组件事件</h3><ul>\n<li><code>this.$emit(其他组件监听事件名称, 传递参数)</code> 全局监听事件</li>\n<li><code>$dispatch()</code> 事件沿着父链冒泡</li>\n<li><code>$broadcast()</code> 广播事件, 事件会向下传递给所有子组件</li>\n<li>父级监听方式 <code>&lt;sub-comp on:父级监听事件名称=&quot;回调方法&quot;&gt;&lt;/sub-comp&gt;</code></li>\n</ul>\n"}