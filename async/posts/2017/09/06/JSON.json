{"tags":[{"name":"javaScript高级程序设计笔记","permalink":"http://blog.hellolc.com,http://www.wjcun.com/tags/javaScript高级程序设计笔记/","url":"/async/tags/javaScript高级程序设计笔记.json","count":17}],"categories":[],"url":"/async/posts/2017/09/06/JSON.json","date":1504665986000,"path":{"year":2017,"month":9,"day":6,"name":"JSON"},"title":"JSON","permalink":"http://blog.hellolc.com,http://www.wjcun.com/2017/09/06/JSON/","content":"<h2 id=\"解析与序列化\"><a href=\"#解析与序列化\" class=\"headerlink\" title=\"解析与序列化\"></a>解析与序列化</h2><h3 id=\"序列化选项\"><a href=\"#序列化选项\" class=\"headerlink\" title=\"序列化选项\"></a>序列化选项</h3><blockquote>\n<p><code>JSON.stringify</code>第二个参数可以是个数组, 过滤掉其他参数, 只留下指定参数; </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var obj = &#123;a: &apos;a&apos;, b: &apos;b&apos;, c:&apos;c&apos;&#125;</span><br><span class=\"line\">JSON.stringify(obj, [&apos;a&apos;,&apos;c&apos;]) //&quot;&#123;&quot;a&quot;:&quot;a&quot;,&quot;c&quot;:&quot;c&quot;&#125;&quot;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>第二个参数也可以是个方法</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var book = &#123;</span><br><span class=\"line\">    &quot;title&quot;: &quot;Professional JavaScript&quot;,</span><br><span class=\"line\">    &quot;authors&quot;: [&quot;Nicholas C. Zakas&quot;],</span><br><span class=\"line\">    edition: 3,</span><br><span class=\"line\">    year: 2001</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">var jsonText = JSON.stringify(book, function(key, value) &#123;</span><br><span class=\"line\">    switch(key) &#123;</span><br><span class=\"line\">        case &quot;authors&quot;:</span><br><span class=\"line\">            return value.join(&quot;,&quot;);</span><br><span class=\"line\">        case &quot;year&quot;:</span><br><span class=\"line\">            return 5000;</span><br><span class=\"line\">        case &quot;edition&quot;:</span><br><span class=\"line\">            return undefined;</span><br><span class=\"line\">        default:</span><br><span class=\"line\">            return value;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">jsonText; //&quot;&#123;&quot;title&quot;:&quot;Professional JavaScript&quot;,&quot;authors&quot;:&quot;Nicholas C. Zakas&quot;,&quot;year&quot;:5000&#125;&quot;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>第三个参数, 如果是数值可以指定缩进几个空格(最大缩进10), 也可以指定是字符串</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var book = &#123;</span><br><span class=\"line\">    &quot;title&quot;: &quot;Professional JavaScript&quot;,</span><br><span class=\"line\">    &quot;authors&quot;: [&quot;Nicholas C. Zakas&quot;],</span><br><span class=\"line\">    edition: 3,</span><br><span class=\"line\">    year: 2001</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">var jsonText = JSON.stringify(book, null, 4);</span><br><span class=\"line\">/** </span><br><span class=\"line\">&quot;&#123;</span><br><span class=\"line\">    &quot;title&quot;: &quot;Professional JavaScript&quot;,</span><br><span class=\"line\">    &quot;authors&quot;: [</span><br><span class=\"line\">        &quot;Nicholas C. Zakas&quot;</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    &quot;edition&quot;: 3,</span><br><span class=\"line\">    &quot;year&quot;: 2001</span><br><span class=\"line\">&#125;&quot;**/</span><br><span class=\"line\"></span><br><span class=\"line\">JSON.stringify(book, null, &apos;-&apos;);</span><br><span class=\"line\">/**</span><br><span class=\"line\">&quot;&#123;</span><br><span class=\"line\">-&quot;title&quot;: &quot;Professional JavaScript&quot;,</span><br><span class=\"line\">-&quot;authors&quot;: [</span><br><span class=\"line\">--&quot;Nicholas C. Zakas&quot;</span><br><span class=\"line\">-],</span><br><span class=\"line\">-&quot;edition&quot;: 3,</span><br><span class=\"line\">-&quot;year&quot;: 2001</span><br><span class=\"line\">&#125;&quot;*/</span><br></pre></td></tr></table></figure>\n<ul>\n<li>toJSON</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var book = &#123;</span><br><span class=\"line\">    &quot;title&quot;: &quot;Professional JavaScript&quot;,</span><br><span class=\"line\">    &quot;authors&quot;: [&quot;Nicholas C. Zakas&quot;],</span><br><span class=\"line\">    edition: 3,</span><br><span class=\"line\">    year: 2001,</span><br><span class=\"line\">    toJSON: function() &#123;</span><br><span class=\"line\">        if (this.edition &gt; 3) &#123;</span><br><span class=\"line\">            return &apos;big&apos;;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            return &apos;small&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">JSON.stringify(book) //&quot;small&quot;</span><br></pre></td></tr></table></figure>\n<h2 id=\"解析选项\"><a href=\"#解析选项\" class=\"headerlink\" title=\"解析选项\"></a>解析选项</h2><h3 id=\"JSON-parse\"><a href=\"#JSON-parse\" class=\"headerlink\" title=\"JSON.parse()\"></a>JSON.parse()</h3>"}