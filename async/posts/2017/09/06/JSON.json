{"tags":[{"name":"javaScript高级程序设计笔记","permalink":"http://blog.hellolc.com/tags/javaScript高级程序设计笔记/","url":"/async/tags/javaScript高级程序设计笔记.json","count":17}],"categories":[],"url":"/async/posts/2017/09/06/JSON.json","date":1504665986000,"path":{"year":2017,"month":9,"day":6,"name":"JSON"},"title":"JSON","permalink":"http://blog.hellolc.com/2017/09/06/JSON/","content":"<h2 id=\"解析与序列化\"><a href=\"#解析与序列化\" class=\"headerlink\" title=\"解析与序列化\"></a>解析与序列化</h2><h3 id=\"序列化选项\"><a href=\"#序列化选项\" class=\"headerlink\" title=\"序列化选项\"></a>序列化选项</h3><blockquote>\n<p><code>JSON.stringify</code>第二个参数可以是个数组, 过滤掉其他参数, 只留下指定参数; </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">var obj = &#123;a: &apos;a&apos;, b: &apos;b&apos;, c:&apos;c&apos;&#125;</div><div class=\"line\">JSON.stringify(obj, [&apos;a&apos;,&apos;c&apos;]) //&quot;&#123;&quot;a&quot;:&quot;a&quot;,&quot;c&quot;:&quot;c&quot;&#125;&quot;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>第二个参数也可以是个方法</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\">var book = &#123;</div><div class=\"line\">    &quot;title&quot;: &quot;Professional JavaScript&quot;,</div><div class=\"line\">    &quot;authors&quot;: [&quot;Nicholas C. Zakas&quot;],</div><div class=\"line\">    edition: 3,</div><div class=\"line\">    year: 2001</div><div class=\"line\">&#125;;</div><div class=\"line\">var jsonText = JSON.stringify(book, function(key, value) &#123;</div><div class=\"line\">    switch(key) &#123;</div><div class=\"line\">        case &quot;authors&quot;:</div><div class=\"line\">            return value.join(&quot;,&quot;);</div><div class=\"line\">        case &quot;year&quot;:</div><div class=\"line\">            return 5000;</div><div class=\"line\">        case &quot;edition&quot;:</div><div class=\"line\">            return undefined;</div><div class=\"line\">        default:</div><div class=\"line\">            return value;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\">jsonText; //&quot;&#123;&quot;title&quot;:&quot;Professional JavaScript&quot;,&quot;authors&quot;:&quot;Nicholas C. Zakas&quot;,&quot;year&quot;:5000&#125;&quot;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>第三个参数, 如果是数值可以指定缩进几个空格(最大缩进10), 也可以指定是字符串</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">var book = &#123;</div><div class=\"line\">    &quot;title&quot;: &quot;Professional JavaScript&quot;,</div><div class=\"line\">    &quot;authors&quot;: [&quot;Nicholas C. Zakas&quot;],</div><div class=\"line\">    edition: 3,</div><div class=\"line\">    year: 2001</div><div class=\"line\">&#125;;</div><div class=\"line\">var jsonText = JSON.stringify(book, null, 4);</div><div class=\"line\">/** </div><div class=\"line\">&quot;&#123;</div><div class=\"line\">    &quot;title&quot;: &quot;Professional JavaScript&quot;,</div><div class=\"line\">    &quot;authors&quot;: [</div><div class=\"line\">        &quot;Nicholas C. Zakas&quot;</div><div class=\"line\">    ],</div><div class=\"line\">    &quot;edition&quot;: 3,</div><div class=\"line\">    &quot;year&quot;: 2001</div><div class=\"line\">&#125;&quot;**/</div><div class=\"line\"></div><div class=\"line\">JSON.stringify(book, null, &apos;-&apos;);</div><div class=\"line\">/**</div><div class=\"line\">&quot;&#123;</div><div class=\"line\">-&quot;title&quot;: &quot;Professional JavaScript&quot;,</div><div class=\"line\">-&quot;authors&quot;: [</div><div class=\"line\">--&quot;Nicholas C. Zakas&quot;</div><div class=\"line\">-],</div><div class=\"line\">-&quot;edition&quot;: 3,</div><div class=\"line\">-&quot;year&quot;: 2001</div><div class=\"line\">&#125;&quot;*/</div></pre></td></tr></table></figure>\n<ul>\n<li>toJSON</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">var book = &#123;</div><div class=\"line\">    &quot;title&quot;: &quot;Professional JavaScript&quot;,</div><div class=\"line\">    &quot;authors&quot;: [&quot;Nicholas C. Zakas&quot;],</div><div class=\"line\">    edition: 3,</div><div class=\"line\">    year: 2001,</div><div class=\"line\">    toJSON: function() &#123;</div><div class=\"line\">        if (this.edition &gt; 3) &#123;</div><div class=\"line\">            return &apos;big&apos;;</div><div class=\"line\">        &#125; else &#123;</div><div class=\"line\">            return &apos;small&apos;;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">JSON.stringify(book) //&quot;small&quot;</div></pre></td></tr></table></figure>\n<h2 id=\"解析选项\"><a href=\"#解析选项\" class=\"headerlink\" title=\"解析选项\"></a>解析选项</h2><h3 id=\"JSON-parse\"><a href=\"#JSON-parse\" class=\"headerlink\" title=\"JSON.parse()\"></a>JSON.parse()</h3>"}